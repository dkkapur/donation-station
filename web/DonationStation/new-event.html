<!DOCTYPE html>
<html lang="en">
<head>
    <title>Donation Station</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="icon" type="image/png" href="img/logo.png">

	<script language="JavaScript">
        function validateFormOnSubmit() {
            var eventData = new Object();
            eventData.event_id = "test"

            var name = document.getElementById("event_name").value
            eventData.name = name;

            var type = document.getElementById("type").value;
            eventData.type = type; 
            eventData.host = "foo"

            var location = document.getElementById("location").value;
            eventData.location  = location
            var zip = document.getElementById("zip").value;
            eventData.zip = zip;
            var startTime = document.getElementById("starttime").value;
            eventData.starttime  = startTime	  
            var endtime = document.getElementById("endtime").value;
            eventData.endtime  = endtime

            var x = document.getElementById("donation_clothes");
            var donation = "";
            if(x.checked){
                donation+=x.value
            }
            var y = document.getElementById("donation_blanket");
            if(y.checked){
                if (donation != "") {
                    donation+= ',' + y.value
                }
                else {
                    donation+= y.value
                }
            }
            eventData.items = donation;	    	   

            var xhr = new XMLHttpRequest();
            var url = "https://suhurulitest.azurewebsites.net/api/eventsPut";
            xhr.open("POST", url, true);

            var data = JSON.stringify(eventData);
            xhr.send(data);
        }
</script>
</head>
<body>

<nav class="navbar navbar-inverse">
    <div class="container-fluid">

        <div class="navbar-header">
            <a class="navbar-brand" href="index.html"><img border="0" alt="logo" src="img/logo.png" height="30"></a>
        </div>

        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li><a href="index.html">About</a></li>
                <li class="active"><a href="events.html">My charity events</a></li>
                <li><a href="contact.html">Contact us</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
            </ul>
        </div>
    </div>
</nav>
  
<div class="container-fluid text-center fill-height">    
    <div class="row content">
        <div class="col-sm-2 sidenav">
        </div>
        
        <div class="col-sm-8 content">
            <div class="text-content text-left">
                <h1> New event</h1>
                <!-- event_type((string), host (string), location (string),  zip (int), starttime (datetime), endtime (datetime), items (list of objects) -->
				<form method="post" name="myform"> 
                <!--<form action="http://requestbin.fullcontact.com/1dsyqx71 " method="Get">-->
                    <br>
                    
                    Event name:
                    <input name="name" type="text" id="event_name">
                    <br> <br>

                    Event type:
                    <select name="type" id="type">
                        <option value="pickup">Pick up</option>
                        <option value="dropoff">Drop-off</option>
                        <option value="volunteer">Volunteer</option>
                    </select>
                    <br> <br>

                    Location:
                    <input name="location" id="location" type="text">
                    <br> <br>

                    Zip code: 
                    <input name="zip" id="zip" type="number">
                    <br> <br>

                    Start time:
                    <input name="starttime" id="starttime" type="datetime-local">
                    <br> <br>

                    End time:
                    <input name="endtime" id="endtime" type="datetime-local">
                    <br> <br>

                    Items: <br>
                    <input  id="donation_clothes"  type="checkbox" name="items[]" value="clothes">Clothes<br>
                    <input id="donation_blanket"  type="checkbox" name="items[]" value="blanket">Blanket<br>
                    <br> <br>

                    <input name="host" type="text"  id="host" value="sravanabhavan">
                
                    <input type="button" onClick="validateFormOnSubmit()" value="Create event" />
                </form>
            </div>
        </div>
        
        <div class="col-sm-2 sidenav">
        </div>
    </div>
</div>

</body>
</html>